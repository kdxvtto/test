import{j as s,c as b,r as l,R as A,a as E,u as O,b as I}from"./index-CvBELGYx.js";import{c as v,T}from"./ThemeToggle-2RAgbgUb.js";/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],F=v("EyeOff",z);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],D=v("Eye",W);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],B=v("LogIn",q);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],U=v("UserPlus",H);function P({className:e,children:t,...r}){return s.jsx("label",{className:b("text-sm font-medium text-slate-800 dark:text-slate-100",e),...r,children:t})}const V=l.forwardRef(function({className:t,type:r="text",...a},n){return s.jsx("input",{ref:n,type:r,className:b("flex h-10 w-full rounded-lg border border-slate-200 bg-transparent px-3 py-2 text-sm outline-none transition","focus:border-primary focus:ring-2 focus:ring-primary/30","dark:border-slate-800 dark:focus:border-primary",t),...a})});function C({label:e,id:t,...r}){return s.jsxs("div",{className:"space-y-1",children:[s.jsx(P,{htmlFor:t,children:e}),s.jsx(V,{id:t,...r})]})}function M({id:e="password",...t}){const[r,a]=l.useState(!1);return s.jsxs("div",{className:"space-y-1",children:[s.jsx(P,{htmlFor:e,children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(V,{id:e,type:r?"text":"password",className:"pr-11",...t}),s.jsx("button",{type:"button",onClick:()=>a(n=>!n),className:b("absolute inset-y-0 right-2 grid w-9 place-items-center text-slate-500","transition hover:text-slate-700 dark:hover:text-slate-200"),"aria-label":r?"Hide password":"Show password",children:r?s.jsx(F,{size:18}):s.jsx(D,{size:18})})]})]})}function S(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Y(...e){return t=>{let r=!1;const a=e.map(n=>{const o=S(n,t);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let n=0;n<a.length;n++){const o=a[n];typeof o=="function"?o():S(e[n],null)}}}}var Z=Symbol.for("react.lazy"),h=A[" use ".trim().toString()];function J(e){return typeof e=="object"&&e!==null&&"then"in e}function L(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===Z&&"_payload"in e&&J(e._payload)}function K(e){const t=Q(e),r=l.forwardRef((a,n)=>{let{children:o,...f}=a;L(o)&&typeof h=="function"&&(o=h(o._payload));const c=l.Children.toArray(o),m=c.find(ee);if(m){const i=m.props.children,u=c.map(p=>p===m?l.Children.count(i)>1?l.Children.only(null):l.isValidElement(i)?i.props.children:null:p);return s.jsx(t,{...f,ref:n,children:l.isValidElement(i)?l.cloneElement(i,void 0,u):null})}return s.jsx(t,{...f,ref:n,children:o})});return r.displayName=`${e}.Slot`,r}var G=K("Slot");function Q(e){const t=l.forwardRef((r,a)=>{let{children:n,...o}=r;if(L(n)&&typeof h=="function"&&(n=h(n._payload)),l.isValidElement(n)){const f=re(n),c=te(o,n.props);return n.type!==l.Fragment&&(c.ref=a?Y(a,f):f),l.cloneElement(n,c)}return l.Children.count(n)>1?l.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var X=Symbol("radix.slottable");function ee(e){return l.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===X}function te(e,t){const r={...t};for(const a in t){const n=e[a],o=t[a];/^on[A-Z]/.test(a)?n&&o?r[a]=(...c)=>{const m=o(...c);return n(...c),m}:n&&(r[a]=n):a==="style"?r[a]={...n,...o}:a==="className"&&(r[a]=[n,o].filter(Boolean).join(" "))}return{...e,...r}}function re(e){var a,n;let t=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(n=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const _=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,R=E,ne=(e,t)=>r=>{var a;if((t==null?void 0:t.variants)==null)return R(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:n,defaultVariants:o}=t,f=Object.keys(n).map(i=>{const u=r==null?void 0:r[i],p=o==null?void 0:o[i];if(u===null)return null;const d=_(u)||_(p);return n[i][d]}),c=r&&Object.entries(r).reduce((i,u)=>{let[p,d]=u;return d===void 0||(i[p]=d),i},{}),m=t==null||(a=t.compoundVariants)===null||a===void 0?void 0:a.reduce((i,u)=>{let{class:p,className:d,...j}=u;return Object.entries(j).every(k=>{let[g,x]=k;return Array.isArray(x)?x.includes({...o,...c}[g]):{...o,...c}[g]===x})?[...i,p,d]:i},[]);return R(e,f,m,r==null?void 0:r.class,r==null?void 0:r.className)},se=ne("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 ring-offset-background",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}});function ae({className:e,variant:t,size:r,asChild:a,...n}){const o=a?G:"button";return s.jsx(o,{className:b(se({variant:t,size:r,className:e})),...n})}function oe({variant:e="error",children:t}){const r="rounded-lg border px-3 py-2 text-sm flex items-center gap-2 shadow-sm bg-white/80 dark:bg-slate-900/70 backdrop-blur",a=e==="success"?"border-emerald-200 text-emerald-800 dark:border-emerald-700 dark:text-emerald-200":"border-red-200 text-red-800 dark:border-red-700 dark:text-red-200";return s.jsx("div",{className:b(r,a),children:t})}function le({mode:e,setMode:t}){const[r,a]=l.useState(e||"login"),[n,o]=l.useState({name:"",username:"",password:""}),{login:f,register:c,loading:m,error:i,setError:u}=O(),p=I(),d=r==="register",j=l.useMemo(()=>d?"Create account":"Sign in",[d]),k=d?s.jsx(U,{size:18}):s.jsx(B,{size:18}),g=async y=>{y.preventDefault(),u(null),d?(await c({name:n.name||n.username,username:n.username,password:n.password})).success&&(a("login"),t==null||t("login")):(await f({username:n.username,password:n.password})).success&&p("/dashboard")},x=y=>w=>{o($=>({...$,[y]:w.target.value}))},N=y=>{a(y),t==null||t(y),u(null)};return s.jsxs("form",{onSubmit:g,className:"space-y-4",children:[s.jsxs("div",{className:"flex gap-2 text-sm",children:[s.jsx("button",{type:"button",className:`flex-1 rounded-lg border px-3 py-2 ${d?"border-slate-300 text-slate-700 dark:border-slate-700":"bg-slate-900 text-white dark:bg-white dark:text-slate-900"}`,onClick:()=>N("login"),children:"Login"}),s.jsx("button",{type:"button",className:`flex-1 rounded-lg border px-3 py-2 ${d?"bg-slate-900 text-white dark:bg-white dark:text-slate-900":"border-slate-300 text-slate-700 dark:border-slate-700"}`,onClick:()=>N("register"),children:"Register"})]}),d&&s.jsx(C,{id:"name",label:"Name",placeholder:"John Doe",value:n.name,onChange:x("name"),required:!0}),s.jsx(C,{id:"username",label:"Username",placeholder:"johndoe",value:n.username,onChange:x("username"),required:!0}),s.jsx(M,{id:"password",placeholder:"••••••••",value:n.password,onChange:x("password"),required:!0}),i&&s.jsx(oe,{children:i}),s.jsxs(ae,{type:"submit",className:"w-full gap-2",disabled:m,children:[k,m?"Please wait...":j]})]})}function ie(){const[e,t]=l.useState("login");return s.jsxs("div",{className:"w-full max-w-md rounded-2xl border border-slate-200 bg-white p-8 shadow-xl dark:border-slate-800 dark:bg-slate-900",children:[s.jsxs("div",{className:"mb-6 space-y-2 text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:e==="login"?"Login":"Register"}),s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:e==="login"?"Masuk dengan username dan password":"Buat akun baru dengan username dan password"})]}),s.jsx(le,{mode:e,setMode:t})]})}function ue(){return s.jsx("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-slate-100 text-slate-900 dark:from-slate-900 dark:to-slate-950 dark:text-slate-50",children:s.jsxs("div",{className:"mx-auto flex min-h-screen max-w-6xl flex-col items-center justify-center px-4 py-8",children:[s.jsx("div",{className:"mb-6 flex w-full max-w-6xl justify-end",children:s.jsx(T,{})}),s.jsx(ie,{})]})})}export{ue as LoginPage};
