import{j as s,c as h,r as l,R as P,a as V,u as L,b as $}from"./index-CqrTW50f.js";import{c as v,T as A}from"./ThemeToggle-C3m3tz6I.js";/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],I=v("EyeOff",O);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],z=v("Eye",T);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],M=v("LogIn",F);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],D=v("UserPlus",W);function S({className:e,children:r,...t}){return s.jsx("label",{className:h("text-sm font-medium text-slate-800 dark:text-slate-100",e),...t,children:r})}const _=l.forwardRef(function({className:r,type:t="text",...a},n){return s.jsx("input",{ref:n,type:t,className:h("flex h-10 w-full rounded-lg border border-slate-200 bg-transparent px-3 py-2 text-sm outline-none transition","focus:border-primary focus:ring-2 focus:ring-primary/30","dark:border-slate-800 dark:focus:border-primary",r),...a})});function k({label:e,id:r,...t}){return s.jsxs("div",{className:"space-y-1",children:[s.jsx(S,{htmlFor:r,children:e}),s.jsx(_,{id:r,...t})]})}function q({id:e="password",...r}){const[t,a]=l.useState(!1);return s.jsxs("div",{className:"space-y-1",children:[s.jsx(S,{htmlFor:e,children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(_,{id:e,type:t?"text":"password",className:"pr-11",...r}),s.jsx("button",{type:"button",onClick:()=>a(n=>!n),className:h("absolute inset-y-0 right-2 grid w-9 place-items-center text-slate-500","transition hover:text-slate-700 dark:hover:text-slate-200"),"aria-label":t?"Hide password":"Show password",children:t?s.jsx(I,{size:18}):s.jsx(z,{size:18})})]})]})}function w(e,r){if(typeof e=="function")return e(r);e!=null&&(e.current=r)}function H(...e){return r=>{let t=!1;const a=e.map(n=>{const o=w(n,r);return!t&&typeof o=="function"&&(t=!0),o});if(t)return()=>{for(let n=0;n<a.length;n++){const o=a[n];typeof o=="function"?o():w(e[n],null)}}}}var U=Symbol.for("react.lazy"),g=P[" use ".trim().toString()];function B(e){return typeof e=="object"&&e!==null&&"then"in e}function E(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===U&&"_payload"in e&&B(e._payload)}function Y(e){const r=J(e),t=l.forwardRef((a,n)=>{let{children:o,...u}=a;E(o)&&typeof g=="function"&&(o=g(o._payload));const c=l.Children.toArray(o),m=c.find(G);if(m){const i=m.props.children,d=c.map(f=>f===m?l.Children.count(i)>1?l.Children.only(null):l.isValidElement(i)?i.props.children:null:f);return s.jsx(r,{...u,ref:n,children:l.isValidElement(i)?l.cloneElement(i,void 0,d):null})}return s.jsx(r,{...u,ref:n,children:o})});return t.displayName=`${e}.Slot`,t}var Z=Y("Slot");function J(e){const r=l.forwardRef((t,a)=>{let{children:n,...o}=t;if(E(n)&&typeof g=="function"&&(n=g(n._payload)),l.isValidElement(n)){const u=X(n),c=Q(o,n.props);return n.type!==l.Fragment&&(c.ref=a?H(a,u):u),l.cloneElement(n,c)}return l.Children.count(n)>1?l.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}var K=Symbol("radix.slottable");function G(e){return l.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===K}function Q(e,r){const t={...r};for(const a in r){const n=e[a],o=r[a];/^on[A-Z]/.test(a)?n&&o?t[a]=(...c)=>{const m=o(...c);return n(...c),m}:n&&(t[a]=n):a==="style"?t[a]={...n,...o}:a==="className"&&(t[a]=[n,o].filter(Boolean).join(" "))}return{...e,...t}}function X(e){var a,n;let r=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,t=r&&"isReactWarning"in r&&r.isReactWarning;return t?e.ref:(r=(n=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:n.get,t=r&&"isReactWarning"in r&&r.isReactWarning,t?e.props.ref:e.props.ref||e.ref)}const N=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,C=V,ee=(e,r)=>t=>{var a;if((r==null?void 0:r.variants)==null)return C(e,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:n,defaultVariants:o}=r,u=Object.keys(n).map(i=>{const d=t==null?void 0:t[i],f=o==null?void 0:o[i];if(d===null)return null;const x=N(d)||N(f);return n[i][x]}),c=t&&Object.entries(t).reduce((i,d)=>{let[f,x]=d;return x===void 0||(i[f]=x),i},{}),m=r==null||(a=r.compoundVariants)===null||a===void 0?void 0:a.reduce((i,d)=>{let{class:f,className:x,...j}=d;return Object.entries(j).every(b=>{let[y,p]=b;return Array.isArray(p)?p.includes({...o,...c}[y]):{...o,...c}[y]===p})?[...i,f,x]:i},[]);return C(e,u,m,t==null?void 0:t.class,t==null?void 0:t.className)},te=ee("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 ring-offset-background",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}});function re({className:e,variant:r,size:t,asChild:a,...n}){const o=a?Z:"button";return s.jsx(o,{className:h(te({variant:r,size:t,className:e})),...n})}function ne({variant:e="error",children:r}){const t="rounded-lg border px-3 py-2 text-sm flex items-center gap-2 shadow-sm bg-white/80 dark:bg-slate-900/70 backdrop-blur",a=e==="success"?"border-emerald-200 text-emerald-800 dark:border-emerald-700 dark:text-emerald-200":"border-red-200 text-red-800 dark:border-red-700 dark:text-red-200";return s.jsx("div",{className:h(t,a),children:r})}function se(){const[e,r]=l.useState("login"),[t,a]=l.useState({name:"",username:"",password:""}),{login:n,register:o,loading:u,error:c,setError:m}=L(),i=$(),d=e==="register",f=l.useMemo(()=>d?"Create account":"Sign in",[d]),x=d?s.jsx(D,{size:18}):s.jsx(M,{size:18}),j=async y=>{y.preventDefault(),m(null),d?(await o({name:t.name||t.username,username:t.username,password:t.password})).success&&r("login"):(await n({username:t.username,password:t.password})).success&&i("/dashboard")},b=y=>p=>{a(R=>({...R,[y]:p.target.value}))};return s.jsxs("form",{onSubmit:j,className:"space-y-4",children:[s.jsxs("div",{className:"flex gap-2 text-sm",children:[s.jsx("button",{type:"button",className:`flex-1 rounded-lg border px-3 py-2 ${d?"border-slate-300 text-slate-700 dark:border-slate-700":"bg-slate-900 text-white dark:bg-white dark:text-slate-900"}`,onClick:()=>r("login"),children:"Login"}),s.jsx("button",{type:"button",className:`flex-1 rounded-lg border px-3 py-2 ${d?"bg-slate-900 text-white dark:bg-white dark:text-slate-900":"border-slate-300 text-slate-700 dark:border-slate-700"}`,onClick:()=>r("register"),children:"Register"})]}),d&&s.jsx(k,{id:"name",label:"Name",placeholder:"John Doe",value:t.name,onChange:b("name"),required:!0}),s.jsx(k,{id:"username",label:"Username",placeholder:"johndoe",value:t.username,onChange:b("username"),required:!0}),s.jsx(q,{id:"password",placeholder:"••••••••",value:t.password,onChange:b("password"),required:!0}),c&&s.jsx(ne,{children:c}),s.jsxs(re,{type:"submit",className:"w-full gap-2",disabled:u,children:[x,u?"Please wait...":f]})]})}function ae(){return s.jsxs("div",{className:"w-full max-w-md rounded-2xl border border-slate-200 bg-white p-8 shadow-xl dark:border-slate-800 dark:bg-slate-900",children:[s.jsxs("div",{className:"mb-6 space-y-2 text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Login"}),s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:"Masuk dengan username dan password"})]}),s.jsx(se,{})]})}function ie(){return s.jsx("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-slate-100 text-slate-900 dark:from-slate-900 dark:to-slate-950 dark:text-slate-50",children:s.jsxs("div",{className:"mx-auto flex min-h-screen max-w-6xl flex-col items-center px-4 py-8",children:[s.jsx("div",{className:"mb-6 flex w-full max-w-6xl justify-end",children:s.jsx(A,{})}),s.jsx(ae,{})]})})}export{ie as LoginPage};
